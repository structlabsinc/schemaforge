{
  "new_tables": [
    {
      "name": "users",
      "columns": [
        {
          "name": "id",
          "data_type": "INT",
          "is_nullable": false,
          "default_value": "NEXTVAL('user_id_seq')",
          "is_primary_key": true,
          "comment": null,
          "collation": null,
          "masking_policy": null,
          "is_identity": false,
          "identity_start": null,
          "identity_step": null,
          "is_generated": false,
          "generation_expression": null,
          "identity_cycle": false
        },
        {
          "name": "email",
          "data_type": "email_address",
          "is_nullable": false,
          "default_value": null,
          "is_primary_key": false,
          "comment": null,
          "collation": null,
          "masking_policy": null,
          "is_identity": false,
          "identity_start": null,
          "identity_step": null,
          "is_generated": false,
          "generation_expression": null,
          "identity_cycle": false
        },
        {
          "name": "status",
          "data_type": "status_enum",
          "is_nullable": true,
          "default_value": "'pending'",
          "is_primary_key": false,
          "comment": null,
          "collation": null,
          "masking_policy": null,
          "is_identity": false,
          "identity_start": null,
          "identity_step": null,
          "is_generated": false,
          "generation_expression": null,
          "identity_cycle": false
        },
        {
          "name": "profile",
          "data_type": "JSONB",
          "is_nullable": true,
          "default_value": null,
          "is_primary_key": false,
          "comment": null,
          "collation": null,
          "masking_policy": null,
          "is_identity": false,
          "identity_start": null,
          "identity_step": null,
          "is_generated": false,
          "generation_expression": null,
          "identity_cycle": false
        },
        {
          "name": "created_at",
          "data_type": "TIMESTAMPTZ",
          "is_nullable": true,
          "default_value": "CURRENT_TIMESTAMP",
          "is_primary_key": false,
          "comment": null,
          "collation": null,
          "masking_policy": null,
          "is_identity": false,
          "identity_start": null,
          "identity_step": null,
          "is_generated": false,
          "generation_expression": null,
          "identity_cycle": false
        },
        {
          "name": "search_vector",
          "data_type": "tsvector",
          "is_nullable": true,
          "default_value": null,
          "is_primary_key": false,
          "comment": null,
          "collation": null,
          "masking_policy": null,
          "is_identity": false,
          "identity_start": null,
          "identity_step": null,
          "is_generated": false,
          "generation_expression": null,
          "identity_cycle": false
        }
      ],
      "indexes": [
        {
          "name": "uk_users_email",
          "columns": [
            "email"
          ],
          "is_unique": true,
          "method": null,
          "where_clause": null,
          "include_columns": [],
          "comment": null
        },
        {
          "name": "idx_users_profile_gin",
          "columns": [
            "profile"
          ],
          "is_unique": false,
          "method": "GIN",
          "where_clause": null,
          "include_columns": [],
          "comment": null
        },
        {
          "name": "idx_users_active",
          "columns": [
            "email"
          ],
          "is_unique": false,
          "method": null,
          "where_clause": "WHERE status = 'active'",
          "include_columns": [],
          "comment": null
        }
      ],
      "foreign_keys": [],
      "check_constraints": [],
      "exclusion_constraints": [],
      "table_type": "Table",
      "is_transient": false,
      "cluster_by": [],
      "retention_days": null,
      "comment": null,
      "policies": [],
      "tags": {},
      "tablespace": null,
      "database_name": null,
      "partition_by": null,
      "stogroup": null,
      "priqty": null,
      "secqty": null,
      "audit": null,
      "ccsid": null,
      "is_unlogged": false,
      "inherits": null,
      "row_security": true,
      "partition_of": null,
      "partition_bound": null,
      "is_strict": false,
      "without_rowid": false,
      "engine": null,
      "row_format": null,
      "auto_increment": null,
      "storage_parameters": {}
    },
    {
      "name": "orders",
      "columns": [
        {
          "name": "order_id",
          "data_type": "UUID",
          "is_nullable": false,
          "default_value": null,
          "is_primary_key": true,
          "comment": null,
          "collation": null,
          "masking_policy": null,
          "is_identity": false,
          "identity_start": null,
          "identity_step": null,
          "is_generated": false,
          "generation_expression": null,
          "identity_cycle": false
        },
        {
          "name": "user_id",
          "data_type": "INT",
          "is_nullable": true,
          "default_value": null,
          "is_primary_key": false,
          "comment": null,
          "collation": null,
          "masking_policy": null,
          "is_identity": false,
          "identity_start": null,
          "identity_step": null,
          "is_generated": false,
          "generation_expression": null,
          "identity_cycle": false
        },
        {
          "name": "total",
          "data_type": "DECIMAL(12, 2)",
          "is_nullable": true,
          "default_value": null,
          "is_primary_key": false,
          "comment": null,
          "collation": null,
          "masking_policy": null,
          "is_identity": false,
          "identity_start": null,
          "identity_step": null,
          "is_generated": false,
          "generation_expression": null,
          "identity_cycle": false
        },
        {
          "name": "tags",
          "data_type": "TEXT[]",
          "is_nullable": true,
          "default_value": null,
          "is_primary_key": false,
          "comment": null,
          "collation": null,
          "masking_policy": null,
          "is_identity": false,
          "identity_start": null,
          "identity_step": null,
          "is_generated": false,
          "generation_expression": null,
          "identity_cycle": false
        }
      ],
      "indexes": [],
      "foreign_keys": [],
      "check_constraints": [
        {
          "name": "ck_orders_total_0",
          "expression": "total > 0",
          "comment": null
        }
      ],
      "exclusion_constraints": [],
      "table_type": "Table",
      "is_transient": false,
      "cluster_by": [],
      "retention_days": null,
      "comment": null,
      "policies": [],
      "tags": {},
      "tablespace": null,
      "database_name": null,
      "partition_by": "PARTITION BY RANGE(total)",
      "stogroup": null,
      "priqty": null,
      "secqty": null,
      "audit": null,
      "ccsid": null,
      "is_unlogged": false,
      "inherits": null,
      "row_security": false,
      "partition_of": null,
      "partition_bound": null,
      "is_strict": false,
      "without_rowid": false,
      "engine": null,
      "row_format": null,
      "auto_increment": null,
      "storage_parameters": {}
    },
    {
      "name": "orders_small",
      "columns": [],
      "indexes": [],
      "foreign_keys": [],
      "check_constraints": [],
      "exclusion_constraints": [],
      "table_type": "Table",
      "is_transient": false,
      "cluster_by": [],
      "retention_days": null,
      "comment": null,
      "policies": [],
      "tags": {},
      "tablespace": null,
      "database_name": null,
      "partition_by": null,
      "stogroup": null,
      "priqty": null,
      "secqty": null,
      "audit": null,
      "ccsid": null,
      "is_unlogged": false,
      "inherits": null,
      "row_security": false,
      "partition_of": null,
      "partition_bound": null,
      "is_strict": false,
      "without_rowid": false,
      "engine": null,
      "row_format": null,
      "auto_increment": null,
      "storage_parameters": {}
    },
    {
      "name": "orders_large",
      "columns": [],
      "indexes": [],
      "foreign_keys": [],
      "check_constraints": [],
      "exclusion_constraints": [],
      "table_type": "Table",
      "is_transient": false,
      "cluster_by": [],
      "retention_days": null,
      "comment": null,
      "policies": [],
      "tags": {},
      "tablespace": null,
      "database_name": null,
      "partition_by": null,
      "stogroup": null,
      "priqty": null,
      "secqty": null,
      "audit": null,
      "ccsid": null,
      "is_unlogged": false,
      "inherits": null,
      "row_security": false,
      "partition_of": null,
      "partition_bound": null,
      "is_strict": false,
      "without_rowid": false,
      "engine": null,
      "row_format": null,
      "auto_increment": null,
      "storage_parameters": {}
    },
    {
      "name": "transient_logs",
      "columns": [
        {
          "name": "log_id",
          "data_type": "SERIAL",
          "is_nullable": false,
          "default_value": null,
          "is_primary_key": true,
          "comment": null,
          "collation": null,
          "masking_policy": null,
          "is_identity": false,
          "identity_start": null,
          "identity_step": null,
          "is_generated": false,
          "generation_expression": null,
          "identity_cycle": false
        },
        {
          "name": "log_data",
          "data_type": "TEXT",
          "is_nullable": true,
          "default_value": null,
          "is_primary_key": false,
          "comment": null,
          "collation": null,
          "masking_policy": null,
          "is_identity": false,
          "identity_start": null,
          "identity_step": null,
          "is_generated": false,
          "generation_expression": null,
          "identity_cycle": false
        }
      ],
      "indexes": [],
      "foreign_keys": [],
      "check_constraints": [],
      "exclusion_constraints": [],
      "table_type": "Table",
      "is_transient": false,
      "cluster_by": [],
      "retention_days": null,
      "comment": null,
      "policies": [],
      "tags": {},
      "tablespace": null,
      "database_name": null,
      "partition_by": null,
      "stogroup": null,
      "priqty": null,
      "secqty": null,
      "audit": null,
      "ccsid": null,
      "is_unlogged": true,
      "inherits": null,
      "row_security": false,
      "partition_of": null,
      "partition_bound": null,
      "is_strict": false,
      "without_rowid": false,
      "engine": null,
      "row_format": null,
      "auto_increment": null,
      "storage_parameters": {}
    }
  ],
  "dropped_tables": [],
  "modified_tables": [],
  "new_custom_objects": [
    {
      "type": "VIEW",
      "name": "user_emails",
      "properties": {
        "raw_sql": "CREATE VIEW user_emails AS SELECT id, email FROM users"
      }
    },
    {
      "type": "VIEW",
      "name": "user_stats",
      "properties": {
        "raw_sql": "CREATE MATERIALIZED VIEW user_stats AS SELECT status, COUNT(*) FROM users GROUP BY status"
      }
    },
    {
      "type": "COMMAND",
      "name": "ALTER",
      "properties": {
        "raw_sql": "ALTER TABLE users ENABLE ROW LEVEL SECURITY"
      }
    }
  ],
  "dropped_custom_objects": [],
  "modified_custom_objects": [],
  "new_policies": [],
  "dropped_policies": [],
  "modified_policies": [],
  "new_domains": [
    {
      "type": "DOMAIN",
      "name": "email_address",
      "properties": {
        "raw_sql": "CREATE DOMAIN email_address AS TEXT CHECK (VALUE ~* '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$')"
      }
    }
  ],
  "dropped_domains": [],
  "modified_domains": [],
  "new_types": [
    {
      "type": "TYPE",
      "name": "status_enum",
      "properties": {
        "raw_sql": "CREATE TYPE status_enum AS ENUM ('active', 'inactive', 'pending')"
      }
    }
  ],
  "dropped_types": [],
  "modified_types": []
}